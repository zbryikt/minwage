function import$(t,r){var e={}.hasOwnProperty;for(var i in r)e.call(r,i)&&(t[i]=r[i]);return t}var easer,transition,step,bricks,brickClass,setup,draw;easer={linear:function(t){return t},quadratic:function(t){return t*t},easeInOut:function(t){return.5>=t?4*Math.pow(t,3):1-4*Math.pow(1-t,3)}},transition=function(t,r,e){var i,n,s,a=[];i={},t.transition={src:i,des:e,config:r,start:(new Date).getTime()};for(n in e)s=e[n],a.push(i[n]=t[n]);return a},step=function(t){var r,e,i,n,s,a,o,u,c,f,l,d;if(null!=t.transition&&(r={src:(r=t.transition).src,des:r.des,config:r.config,start:r.start},e=r.src,i=r.des,n=r.config,s=r.start,r={dur:n.dur,ease:n.ease,delay:n.delay},a=r.dur,o=r.ease,u=r.delay,c=(new Date).getTime(),!(null!=u&&s+u>c))){f=(c-s-(null!=u?u:0))/a,f>=0||(f=0),1>=f||(f=1),o&&(f=o(f));for(l in i)d=i[l],t[l]=e[l]+(i[l]-e[l])*f;return f>=1?(r=t.transition,delete t.transition,r):void 0}},bricks=[],brickClass=function(t){return this.reset(t),this},brickClass.prototype={mod:100,w:4,h:2,m:2,c:{r:200,g:90,b:90},opacity:1,iteration:0,idx:0,reset:function(t){return null!=t&&(this.idx=t),import$(this,{x:this.idx%100*(this.w+this.m)+10,y:parseInt(this.idx/100)*(this.h+this.m)+100,opacity:1,iteration:0})}},setup=function(){var t,r,e,i,n,s=[];for(createCanvas(800,600),t={x:5,y:4},r={x:10,y:10},e=0;1e3>e;++e)i=e,n=new brickClass(i),s.push(bricks.push(n));return s},draw=function(){var t,r,e,i,n=[];for(fill("#fff"),rect(-1,-1,802,602),t=0,e=(r=bricks).length;e>t;++t)i=r[t],stroke("rgba(200,80,80,"+i.opacity+")"),fill("rgba(200,80,80,"+i.opacity+")"),i.transition&&step(i),n.push(rect(i.x,i.y,3,2));return n},setTimeout(function(){var t,r,e,i=[];for(t=500;1e3>t;++t)r=t,e=bricks[r],i.push(transition(e,{delay:parseInt(1e3*Math.random()),dur:2e3,ease:easer.easeInOut},{x:400,y:600}));return i},1e3);